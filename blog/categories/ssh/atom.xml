<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: ssh | dawncold's tech blog]]></title>
  <link href="http://www.youth2009.org/blog/categories/ssh/atom.xml" rel="self"/>
  <link href="http://www.youth2009.org/"/>
  <updated>2013-07-14T01:11:57+08:00</updated>
  <id>http://www.youth2009.org/</id>
  <author>
    <name><![CDATA[dawncold]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[ssh的安全配置]]></title>
    <link href="http://www.youth2009.org/blog/2012/06/08/security-of-ssh/"/>
    <updated>2012-06-08T16:11:00+08:00</updated>
    <id>http://www.youth2009.org/blog/2012/06/08/security-of-ssh</id>
    <content type="html"><![CDATA[<p>今天刚刚换了vps，ssh的安全早就该配置好，没想到竟然是现在了……</p>

<p>首先这些基本需要做：<a href="http://www.deepvps.com/improve-ssh-security.html"><a href="http://www.deepvps.com/improve-ssh-security.html">http://www.deepvps.com/improve-ssh-security.html</a></a></p>

<p>再就是禁止root后需要创建一个马甲账号：</p>

<p> </p>

<p>0.增加ubuntu的admin组，我的vps默认没有，所以就创建了，sudoer文件中写明了admin组可以用sudo，所以我省略了这一步</p>

<p> </p>

<pre class="prettyprint linenums bush:bash" lang="bash">groupadd admin</pre>


<p>1.增加马甲账号(-m表示创建home目录，-s表示后面跟着的是terminal，-G表示加入后面的那个组，最后的USERNAME各位自己发挥)</p>

<pre class="prettyprint linenums bush:bash" lang="bash">useradd -m -s /bin/bash -G admin USERNAME</pre>


<p>2.修改刚刚马甲的密码：(输入两次新密码就ok了)</p>

<pre class="prettyprint linenums bush:bash" lang="bash">passwd USERNAME</pre>


<p>＃＃＃＃＃＃＃＃＃＃＃禁止root登陆＃＃＃＃＃＃＃＃＃＃＃</p>

<p>下面禁止root登陆，直接修改/etc/ssh/sshd_config中的PermitRootLogin为no即可，然后重启ssh：</p>

<pre class="prettyprint linenums bush:bash" lang="bash">service ssh restart
</pre>


<p>不放心的可以断开ssh连接用root和刚刚的马甲账号登陆试试看，肯定root不能用了，而且用马甲登陆上去之后你可以“su -”一下，输入root的密码后就切换到了root的环境下了（不要忘记su后面的短横杠哦，那样才切换环境）。</p>

<p> </p>

<p> </p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[修改ssh登录方式]]></title>
    <link href="http://www.youth2009.org/blog/2011/03/04/change-ssh-login/"/>
    <updated>2011-03-04T22:29:00+08:00</updated>
    <id>http://www.youth2009.org/blog/2011/03/04/change-ssh-login</id>
    <content type="html"><![CDATA[<pre class="prettyprint linenums bush:bash" lang="bash">PasswordAuthentication yes
ChallengeResponseAuthentication no
GSSAPIAuthentication yes
UsePAM no</pre>


<p>这样就能有的用rsa登录有的用密码登陆了！</p>
]]></content>
  </entry>
  
</feed>
