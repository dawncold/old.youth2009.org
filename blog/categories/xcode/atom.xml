<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: xcode | dawncold's tech blog]]></title>
  <link href="http://www.youth2009.org/blog/categories/xcode/atom.xml" rel="self"/>
  <link href="http://www.youth2009.org/"/>
  <updated>2012-12-19T22:59:22+08:00</updated>
  <id>http://www.youth2009.org/</id>
  <author>
    <name><![CDATA[dawncold]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[终于又回到了开发一线]]></title>
    <link href="http://www.youth2009.org/blog/2012/08/09/return-to-develop/"/>
    <updated>2012-08-09T10:45:00+08:00</updated>
    <id>http://www.youth2009.org/blog/2012/08/09/return-to-develop</id>
    <content type="html"><![CDATA[<pre><code>        &lt;p&gt;前两天把系统从Lion升级到了MountainLion，这一升级不要紧，很多开发环境都需要重装，比如Java又得重新下载，Python的类库又消失了，XCode过期了。。。&lt;/p&gt;
</code></pre>

<p>听说了一个好消息，从XCode4.4.1开始，以后的XCode都会采用增量更新，但这次除外，1.56Gb的XCode，在这种破网速中用了两天才搞定。</p>


<p>Python的一个类库MySQL-python需要gcc-4.2才能编译，于是还需要下载CommandLineTool，又是155Mb。。。（但装好XCode后可以从XCode.app中找到llvm-gcc-4.2，我是用这个编译的，也能用）。</p>


<p>还有几个小的python类库，装好后就能继续用了。这次系统升级后MySQL竟然没有问题，值得表扬一下！</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[又回到了drcom上]]></title>
    <link href="http://www.youth2009.org/blog/2011/11/19/also-back-to-drcom-for-mac/"/>
    <updated>2011-11-19T14:33:00+08:00</updated>
    <id>http://www.youth2009.org/blog/2011/11/19/also-back-to-drcom-for-mac</id>
    <content type="html"><![CDATA[<pre><code>        &lt;p&gt;如果在mac系统下没有可用的drcom客户端真是很难受的一件事情，虽然现在有了web登陆的账号，但还是有限制的——流量总数、速度，特别是速度限制，真是拿生锈的刀杀人的感觉。&lt;/p&gt;
</code></pre>

<p>曾经两次打开了xcode来调试drcom4mac的源代码，但每次都感觉怎么这么复杂，我怎么能看得懂？里面的drcom库是用C写的，我个人一直对于C语言有好感，但就是不想接触。现在高级语言有的是，虽说从学术划分上来讲C也算是高级语言，但从语言上比较，C算是很底层的了。就这样拖延着，我想还是动力不够，如果有什么强大动力支持着我来做这个，可能会更好。</p>


<p>再来一次吧，现在同时也在学着python，前段时间面试豆瓣的时候被问到是不是C的代码写得少，我只能正确回答是的，最终也没面试上，许是和这个有关，既然如此也算是给自己找了个理由——为了未来，还有广大生活在drcom阴影下的使用mac系统的人们。</p>


<p>我来了！</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[分享在设备上不用iDP调试app的方法]]></title>
    <link href="http://www.youth2009.org/blog/2011/08/04/shard-debug-app-in-device-without-idp-xcode4/"/>
    <updated>2011-08-04T22:51:00+08:00</updated>
    <id>http://www.youth2009.org/blog/2011/08/04/shard-debug-app-in-device-without-idp-xcode4</id>
    <content type="html"><![CDATA[<pre><code>        &lt;p&gt;原来在开发一个3.1.3上的游戏时用过这样的方法，没想到现在仍然能够使用，这直接刺激我要不要购买iDP，那可是99美元啊。当然购买iDP也不是光为了能够调试，还有机会去app store，这点可能还值那99美元。&lt;/p&gt;
</code></pre>

<p>这是1ST告诉我的办法，第一次就是他告诉的，没想到这次还是他告诉的。</p>


<p>下面是所有的代码操作，请对照操作步骤来进行，代码操作这是作为参考：</p>


<p>操作步骤：</p>


<p class="p1" style="font: normal normal normal 15px/normal STSong; margin: 0px;"><span class="s1" style="font: normal normal normal 15px/normal Times;">iPhone</span>必须是越狱后的，并且安装了<span class="s1" style="font: normal normal normal 15px/normal Times;">afc2add</span>。</p>


<p class="p2" style="font: normal normal normal 15px/normal Times; min-height: 18px; margin: 0px;"> </p>


<p class="p1" style="font: normal normal normal 15px/normal STSong; margin: 0px;">将<span class="s1" style="font: normal normal normal 15px/normal Times;">iPhone</span>接入<span class="s1" style="font: normal normal normal 15px/normal Times;">Mac</span>，并打开<span class="s1" style="font: normal normal normal 15px/normal Times;">xCode</span>，会自动弹出<span class="s1" style="font: normal normal normal 15px/normal Times;">Organizer</span>（或在<span class="s1" style="font: normal normal normal 15px/normal Times;">xCode</span>的菜单<span class="s1" style="font: normal normal normal 15px/normal Times;">Window</span>中打开），在其中点击<span class="s1" style="font: normal normal normal 15px/normal Times;">“</span>用这台设备进行开发<span class="s1" style="font: normal normal normal 15px/normal Times;">”</span></p>


<p class="p2" style="font: normal normal normal 15px/normal Times; min-height: 18px; margin: 0px;"> </p>


<p class="p3" style="font: normal normal normal 15px/normal Times; margin: 0px;">xCode<span class="s2" style="font: normal normal normal 15px/normal STSong;">配置步骤：</span></p>


<p class="p1" style="font: normal normal normal 15px/normal STSong; margin: 0px;">零、开始前的注意事项</p>


<p class="p1" style="font: normal normal normal 15px/normal STSong; margin: 0px;"><span class="s1" style="font: normal normal normal 15px/normal Times;">1</span>、<span class="s1" style="font: normal normal normal 15px/normal Times;"> </span>权限问题：</p>


<p class="p1" style="font: normal normal normal 15px/normal STSong; margin: 0px;"><span class="s1" style="font: normal normal normal 15px/normal Times;">   </span>要想修改并保存文件，须先修改该文件及其上层目录的权限（在右键菜单的显示简介中），添加当前用户并赋读和写权限，才能修改文件。</p>


<p class="p1" style="font: normal normal normal 15px/normal STSong; margin: 0px;"><span class="s1" style="font: normal normal normal 15px/normal Times;">2</span>、注意备份</p>


<p class="p1" style="font: normal normal normal 15px/normal STSong; margin: 0px;"><span class="s1" style="font: normal normal normal 15px/normal Times;">   </span>修改之前一定注意备份原有文件</p>


<p class="p3" style="font: normal normal normal 15px/normal Times; margin: 0px;"><span class="s2" style="font: normal normal normal 15px/normal STSong;">一、修改文件</span>SDKSettings.plist</p>


<p class="p1" style="font: normal normal normal 15px/normal STSong; margin: 0px;"><span class="s1" style="font: normal normal normal 15px/normal Times;"> </span>文件位置：</p>


<p class="p3" style="font: normal normal normal 15px/normal Times; margin: 0px;">   /Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS4.3.sdk</p>


<p class="p1" style="font: normal normal normal 15px/normal STSong; margin: 0px;"><span class="s1" style="font: normal normal normal 15px/normal Times;">  </span>修改方法：</p>


<p class="p3" style="font: normal normal normal 15px/normal Times; margin: 0px;">    <span class="s2" style="font: normal normal normal 15px/normal STSong;">找到</span>&lt;key&gt;CODE_SIGNING_REQUIRED&lt;/key&gt;&lt;string&gt;YES&lt;/string&gt;</p>


<p class="p1" style="font: normal normal normal 15px/normal STSong; margin: 0px;"><span class="s1" style="font: normal normal normal 15px/normal Times;">    </span>将值从YES改为<span class="s1" style="font: normal normal normal 15px/normal Times;">NO</span></p>


<p class="p3" style="font: normal normal normal 15px/normal Times; margin: 0px;">    <span class="s2" style="font: normal normal normal 15px/normal STSong;">找到</span>&lt;key&gt;ENTITLEMENTS_REQUIRED&lt;/key&gt;&lt;string&gt;YES&lt;/string&gt;</p>


<p class="p1" style="font: normal normal normal 15px/normal STSong; margin: 0px;"><span class="s1" style="font: normal normal normal 15px/normal Times;">    </span>将值从YES改为<span class="s1" style="font: normal normal normal 15px/normal Times;">NO</span></p>


<p class="p2" style="font: normal normal normal 15px/normal Times; min-height: 18px; margin: 0px;"> </p>


<p class="p3" style="font: normal normal normal 15px/normal Times; margin: 0px;"><span class="s2" style="font: normal normal normal 15px/normal STSong;">二、修改文件</span>info.plist</p>


<p class="p1" style="font: normal normal normal 15px/normal STSong; margin: 0px;"><span class="s1" style="font: normal normal normal 15px/normal Times;"> </span>文件位置：</p>


<p class="p3" style="font: normal normal normal 15px/normal Times; margin: 0px;">  /Developer/Platforms/iPhoneOS.platform/</p>


<p class="p1" style="font: normal normal normal 15px/normal STSong; margin: 0px;"><span class="s1" style="font: normal normal normal 15px/normal Times;">  </span>修改方法：</p>


<p class="p3" style="font: normal normal normal 15px/normal Times; margin: 0px;">  <span class="s2" style="font: normal normal normal 15px/normal STSong;">找到所有的</span>&lt;key&gt;CODE_SIGN_CONTEXT_CLASS&lt;/key&gt;&lt;string&gt;XCiPhoneOSCodeSignContext&lt;/string&gt;</p>


<p class="p3" style="font: normal normal normal 15px/normal Times; margin: 0px;">  <span class="s2" style="font: normal normal normal 15px/normal STSong;">将值从</span>XCiPhoneOSCodeSignContext<span class="s2" style="font: normal normal normal 15px/normal STSong;">改为</span> XCCodeSignContext</p>


<p class="p1" style="font: normal normal normal 15px/normal STSong; margin: 0px;">（共<span class="s1" style="font: normal normal normal 15px/normal Times;">2</span>处）</p>


<p class="p2" style="font: normal normal normal 15px/normal Times; min-height: 18px; margin: 0px;"> </p>


<p class="p1" style="font: normal normal normal 15px/normal STSong; margin: 0px;">三、打开终端，输入以下命令：</p>


<p class="p3" style="font: normal normal normal 15px/normal Times; margin: 0px;">cd /Developer/Platforms/iPhoneOS.platform/Developer/Library/Xcode/Plug-ins/iPhoneOS\ Build\ System\ Support.xcplugin/Contents/MacOS/</p>


<p class="p2" style="font: normal normal normal 15px/normal Times; min-height: 18px; margin: 0px;"> </p>


<p class="p3" style="font: normal normal normal 15px/normal Times; margin: 0px;">dd if=iPhoneOS\ Build\ System\ Support of=working bs=500 count=255</p>


<p class="p2" style="font: normal normal normal 15px/normal Times; min-height: 18px; margin: 0px;"> </p>


<p class="p3" style="font: normal normal normal 15px/normal Times; margin: 0px;">printf "\xc3\x26\x00\x00" &gt;&gt; working</p>


<p class="p2" style="font: normal normal normal 15px/normal Times; min-height: 18px; margin: 0px;"> </p>


<p class="p3" style="font: normal normal normal 15px/normal Times; margin: 0px;">dd if=iPhoneOS\ Build\ System\ Support of=working bs=1 skip=127504 seek=127504</p>


<p class="p2" style="font: normal normal normal 15px/normal Times; min-height: 18px; margin: 0px;"> </p>


<p class="p3" style="font: normal normal normal 15px/normal Times; margin: 0px;">/bin/mv -n iPhoneOS\ Build\ System\ Support iPhoneOS\ Build\ System\ Support.original</p>


<p class="p2" style="font: normal normal normal 15px/normal Times; min-height: 18px; margin: 0px;"> </p>


<p class="p3" style="font: normal normal normal 15px/normal Times; margin: 0px;">/bin/mv working iPhoneOS\ Build\ System\ Support</p>


<p class="p2" style="font: normal normal normal 15px/normal Times; min-height: 18px; margin: 0px;"> </p>


<p class="p3" style="font: normal normal normal 15px/normal Times; margin: 0px;">chmod a+x iPhoneOS\ Build\ System\ Support</p>


<p class="p2" style="font: normal normal normal 15px/normal Times; min-height: 18px; margin: 0px;"> </p>


<p class="p3" style="font: normal normal normal 15px/normal Times; margin: 0px;"><span class="s2" style="font: normal normal normal 15px/normal STSong;">四、修改工程属性（</span>Project Settings<span class="s2" style="font: normal normal normal 15px/normal STSong;">）</span></p>


<p class="p1" style="font: normal normal normal 15px/normal STSong; margin: 0px;">先打开工程属性，<span class="s1" style="font: normal normal normal 15px/normal Times;">xCode3</span>可在菜单<span class="s1" style="font: normal normal normal 15px/normal Times;">File-&gt;Project Settings</span>中打开，或右键点工程文件列表中的工程项，从中找到工程属性；<span class="s1" style="font: normal normal normal 15px/normal Times;">xCode4</span>直接单击工程文件列表中的工程项即可</p>


<p class="p3" style="font: normal normal normal 15px/normal Times; margin: 0px;"><span class="s2" style="font: normal normal normal 15px/normal STSong;">在工程属性中，找到</span>Build Settings<span class="s2" style="font: normal normal normal 15px/normal STSong;">，修改其中的</span>Code Signing Identity<span class="s2" style="font: normal normal normal 15px/normal STSong;">，将所有属性值都从</span>iPhone Developer<span class="s2" style="font: normal normal normal 15px/normal STSong;">改为</span>Don't Code Sign</p>


<p class="p3" style="font: normal normal normal 15px/normal Times; margin: 0px;"><span class="s2" style="font: normal normal normal 15px/normal STSong;">（若在</span>xCode4<span class="s2" style="font: normal normal normal 15px/normal STSong;">中找不到</span>Code Signing Identity<span class="s2" style="font: normal normal normal 15px/normal STSong;">，在属性列表的左上方有个</span>“Basic”<span class="s2" style="font: normal normal normal 15px/normal STSong;">和</span>“All”<span class="s2" style="font: normal normal normal 15px/normal STSong;">的选项，选择</span>All<span class="s2" style="font: normal normal normal 15px/normal STSong;">就能找到了。</span></p>


<p class="p4" style="font: normal normal normal 15px/normal STSong; min-height: 15px; margin: 0px;"> </p>


<p class="p1" style="font: normal normal normal 15px/normal STSong; margin: 0px;">最后、选择Device的SDK，Run。会将编译好的app传输到设备上，不过xCode会提示Error Starting Executable "project name", Error launching remote program…这时，只需手动在设备上打开这个程序就可以了，调试信息可在Organizer里实时监控</p>


<p class="p1" style="font: normal normal normal 15px/normal STSong; margin: 0px;"> </p>


<p class="p1" style="font: normal normal normal 15px/normal STSong; margin: 0px;">再次最后，操作完quit一下Xcode，再打开往设备上安装app。</p>


<br /><pre class="prettyprint linenums bush:bash" lang="bash">dawncold@tianzhenmatoMacBook-Pro tests$ cd /Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS4.3.sdk/


<p>dawncold@tianzhenmatoMacBook-Pro iPhoneOS4.3.sdk$ ls
Developer           Entitlements.plist  ResourceRules.plist SDKSettings.plist   System              usr
dawncold@tianzhenmatoMacBook-Pro iPhoneOS4.3.sdk$ cp SDKSettings.plist SDKSettings.plist.backup
cp: SDKSettings.plist.backup: Permission denied
dawncold@tianzhenmatoMacBook-Pro iPhoneOS4.3.sdk$ sudo cp SDKSettings.plist SDKSettings.plist.backup
Password:
dawncold@tianzhenmatoMacBook-Pro iPhoneOS4.3.sdk$ ls
Developer                ResourceRules.plist      SDKSettings.plist.backup usr
Entitlements.plist       SDKSettings.plist        System
dawncold@tianzhenmatoMacBook-Pro iPhoneOS4.3.sdk$ sudo emacs SDKSettings.plist
dawncold@tianzhenmatoMacBook-Pro iPhoneOS4.3.sdk$ cd /Developer/Platforms/iPhoneOS.platform/
dawncold@tianzhenmatoMacBook-Pro iPhoneOS.platform$ ls
Developer     DeviceSupport Info.plist    iPhoneOS.icns version.plist
dawncold@tianzhenmatoMacBook-Pro iPhoneOS.platform$ sudo cp Info.plist Info.plist.backup
dawncold@tianzhenmatoMacBook-Pro iPhoneOS.platform$ ls
Developer         DeviceSupport     Info.plist        Info.plist.backup iPhoneOS.icns     version.plist
dawncold@tianzhenmatoMacBook-Pro iPhoneOS.platform$ sudo emacs Info.plist
dawncold@tianzhenmatoMacBook-Pro iPhoneOS.platform$ cd /Developer/Platforms/iPhoneOS.platform/Developer/Library/Xcode/Plug-ins/iPhoneOS\ Build\ System\ Support.xcplugin/Contents/MacOS/
dawncold@tianzhenmatoMacBook-Pro MacOS$ ls
iPhoneOS Build System Support
dawncold@tianzhenmatoMacBook-Pro MacOS$ ls -al
total 232
drwxrwxr-x  3 root  admin     102  7 22 06:27 .
drwxrwxr-x  7 root  admin     238  7 22 06:27 ..
-rwxrwxr-x  1 root  admin  115904  3 31 09:22 iPhoneOS Build System Support
dawncold@tianzhenmatoMacBook-Pro MacOS$ dd if=iPhoneOS\ Build\ System\ Support of=working bs=500 count=255
231+1 records in
231+1 records out
115904 bytes transferred in 0.023461 secs (4940262 bytes/sec)
dawncold@tianzhenmatoMacBook-Pro MacOS$ printf "\xc3\x26\x00\x00" &gt;&gt; working
dawncold@tianzhenmatoMacBook-Pro MacOS$ dd if=iPhoneOS\ Build\ System\ Support of=working bs=1 skip=127504 seek=125504
0+0 records in
0+0 records out
0 bytes transferred in 0.000013 secs (0 bytes/sec)
dawncold@tianzhenmatoMacBook-Pro MacOS$ mv
mv   mvn<br/>
dawncold@tianzhenmatoMacBook-Pro MacOS$ mv
mv   mvn<br/>
dawncold@tianzhenmatoMacBook-Pro MacOS$ mv -n iPhoneOS\ Build\ System\ Support iPhoneOS\ Build\ System\ Support.backup
dawncold@tianzhenmatoMacBook-Pro MacOS$ ls
iPhoneOS Build System Support.backup working
dawncold@tianzhenmatoMacBook-Pro MacOS$ mv working iPhoneOS\ Build\ System\ Support
dawncold@tianzhenmatoMacBook-Pro MacOS$ ls
iPhoneOS Build System Support        iPhoneOS Build System Support.backup
dawncold@tianzhenmatoMacBook-Pro MacOS$ chmod a+x iPhoneOS\ Build\ System\ Support
dawncold@tianzhenmatoMacBook-Pro MacOS$ ls
iPhoneOS Build System Support        iPhoneOS Build System Support.backup
</pre></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Lion吃了我的Xcode]]></title>
    <link href="http://www.youth2009.org/blog/2011/07/22/lion-eat-my-xcode-4-0/"/>
    <updated>2011-07-22T06:48:00+08:00</updated>
    <id>http://www.youth2009.org/blog/2011/07/22/lion-eat-my-xcode-4-0</id>
    <content type="html"><![CDATA[<pre><code>        &lt;p&gt;昨天Lion在AppStore发布了，我也就是看了几眼。后来在论坛上有人说通过香港的免费升级服务有一小部分大陆的机器也得到了免费升级的机会，我也算是个港行的mbp，去试试看，结果我的机器似乎不在那个享受范围内。&lt;/p&gt;
</code></pre>

<p>不过在微博上有人转发了一个Lion的种子，我就下载去了，一会儿竟然下载完了。然后晚上就装上了，apple在反盗版方面一点儿也不重视，下载是收费的，但你只要是得到了文件就随便使用。我这次也邪恶了一把。</p>


<p>安装Lion好久了，先进行一个标明20min的预安装过程，再重启进行真正安装，那个过程标明33min但实际并不是这样，大约有3700s吧安装过程中鼠标移到最顶上，那个菜单条就出现了，可以看安装的log，比干等强一些。</p>


<p>安装完Lion后我打开xcode，发现我的xcode4.0只能在10.6系统中运行，App Store中我还看到一个Xcode4.1而且是免费的，哎，这就很奇怪了，当初4.0是收费4.99美元下载的，现在又出来一个10.7系统下的免费4.1版本。既然免费就下载吧，但发现太慢。于是去了develop.apple.com上找develop tools在那里有xcode4.1的下载链接，本想用迅雷试试速度呢，不过igetter依然跳出来了，我也就没再换，速度还不错大约1MB/s左右，下载自动关机，就睡觉去了。</p>


<p>早上安装了那个xcode4.1，安装完毕后发现再打开xcode还是提示只能在10.6系统下使用。难道安装没用？！又去develop目录下找找application，只有一个xcode的app图标，很奇怪不知道为何。</p>


<p>打开看了一眼我的Application目录，发现里面有一个InstallXcode，打开试试，没想到这才是升级，打开后升级了现有的Xcode，终于能用了。我想可能刚刚安装的时候发现我已经安装了以前的版本，所以就出来一个升级过程吧。</p>

]]></content>
  </entry>
  
</feed>
