<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: ruby | Trade Off]]></title>
  <link href="http://www.youth2009.org/www/blog/categories/ruby/atom.xml" rel="self"/>
  <link href="http://www.youth2009.org/www/"/>
  <updated>2014-09-04T20:26:43+08:00</updated>
  <id>http://www.youth2009.org/www/</id>
  <author>
    <name><![CDATA[dawncold]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[give up ruby]]></title>
    <link href="http://www.youth2009.org/www/blog/2013/01/27/give-up-ruby/"/>
    <updated>2013-01-27T18:39:00+08:00</updated>
    <id>http://www.youth2009.org/www/blog/2013/01/27/give-up-ruby</id>
    <content type="html"><![CDATA[<p>感觉中间隔了好久，最终还是把study ruby给放弃了，顺便找了个充足的理由——在没学好当下这门语言之前，不要再尝试其他的。</p>

<p>虽然一个coder要保持技术的敏感性与前瞻性，但频繁换编程语言实在不是一件好事，我现在仍然对于自己涉猎太多编程语言而感到烦躁，主要就是会的太多而不精，一旦用上了还真拿不出手，那种感觉很不爽！所以，暂且不要跟着《Pragmatic Programmer》中说得那样来了。</p>

<p>暂且这样吧。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[gets method in ruby]]></title>
    <link href="http://www.youth2009.org/www/blog/2013/01/03/gets-method-in-ruby/"/>
    <updated>2013-01-03T20:40:00+08:00</updated>
    <id>http://www.youth2009.org/www/blog/2013/01/03/gets-method-in-ruby</id>
    <content type="html"><![CDATA[<p><strong>Important</strong>: Also notice that we&rsquo;re using STDIN.gets instead of plain &lsquo;ol gets. That is because if there is stuff in ARGV, the default gets method tries to treat the first one as a file and read from that. To read from the user&rsquo;s input (i.e., stdin) in such a situation, you have to use it STDIN.gets explicitly.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Ruby中的write_attribute]]></title>
    <link href="http://www.youth2009.org/www/blog/2012/02/14/write-attribute-in-ruby/"/>
    <updated>2012-02-14T16:06:00+08:00</updated>
    <id>http://www.youth2009.org/www/blog/2012/02/14/write-attribute-in-ruby</id>
    <content type="html"><![CDATA[<p>有时候想修改一下自己的setter方法，于是会容易犯这样的一个错误：</p>

<p><code>ruby
def password=(pwd)
   @password = pwd
   return if @password.blank?
   create_new_salt
   self.password = xxx
 end
</code>ruby</p>

<p>最后那行使用了self.password= xxx，你有没有注意到我们这个方法就是password=，你在自己调用自己，如果有条件停止的话，那这叫递归，如果没有的话，这就是死循环喽，ruby可能会抛出一个stack too deep的错误（rails至少会这样说），此时需要一个magic！</p>

<p><code>ruby
write_attribute(:password, User.encrypted_password(self.password, self.salt))
</code></p>

<p>使用write_attribute(xxx,jjj)即可，意思就是把jjj赋值给xxx了，因为此时正好在定义xxx，所以不能用xxx = 这样的方法赋值。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[安装mysql的Ruby驱动遇到的问题]]></title>
    <link href="http://www.youth2009.org/www/blog/2012/02/09/some-issue-when-installing-mysql-ruby-driver/"/>
    <updated>2012-02-09T20:08:00+08:00</updated>
    <id>http://www.youth2009.org/www/blog/2012/02/09/some-issue-when-installing-mysql-ruby-driver</id>
    <content type="html"><![CDATA[<p>&#8220;`bash
dawncold@tianzhenmatoMacBook-Pro ~$ gem install mysql
Fetching: mysql-2.8.1.gem (100%)
Building native extensions.  This could take a while&hellip;
ERROR:  Error installing mysql:
ERROR: Failed to build gem native extension.</p>

<pre><code>   /usr/local/Cellar/ruby/1.9.3-p0/bin/ruby extconf.rb
</code></pre>

<p>checking for mysql_query() in -lmysqlclient&hellip; no
checking for main() in -lm&hellip; yes
checking for mysql_query() in -lmysqlclient&hellip; no
checking for main() in -lz&hellip; yes
checking for mysql_query() in -lmysqlclient&hellip; no
checking for main() in -lsocket&hellip; no
checking for mysql_query() in -lmysqlclient&hellip; no
checking for main() in -lnsl&hellip; no
checking for mysql_query() in -lmysqlclient&hellip; no
checking for main() in -lmygcc&hellip; no
checking for mysql_query() in -lmysqlclient&hellip; no
<strong><em> extconf.rb failed </em></strong>
Could not create Makefile due to some reason, probably lack of
necessary libraries and/or headers.  Check the mkmf.log file for more
details.  You may need configuration options.</p>

<p>Provided configuration options:
&mdash;with-opt-dir
&mdash;without-opt-dir
&mdash;with-opt-include
&mdash;without-opt-include=${opt-dir}/include
&mdash;with-opt-lib
&mdash;without-opt-lib=${opt-dir}/lib
&mdash;with-make-prog
&mdash;without-make-prog
&mdash;srcdir=.
&mdash;curdir
&mdash;ruby=/usr/local/Cellar/ruby/1.9.3-p0/bin/ruby
&mdash;with-mysql-config
&mdash;without-mysql-config
&mdash;with-mysql-dir
&mdash;without-mysql-dir
&mdash;with-mysql-include
&mdash;without-mysql-include=${mysql-dir}/include
&mdash;with-mysql-lib
&mdash;without-mysql-lib=${mysql-dir}/lib
&mdash;with-mysqlclientlib
&mdash;without-mysqlclientlib
&mdash;with-mlib
&mdash;without-mlib
&mdash;with-mysqlclientlib
&mdash;without-mysqlclientlib
&mdash;with-zlib
&mdash;without-zlib
&mdash;with-mysqlclientlib
&mdash;without-mysqlclientlib
&mdash;with-socketlib
&mdash;without-socketlib
&mdash;with-mysqlclientlib
&mdash;without-mysqlclientlib
&mdash;with-nsllib
&mdash;without-nsllib
&mdash;with-mysqlclientlib
&mdash;without-mysqlclientlib
&mdash;with-mygcclib
&mdash;without-mygcclib
&mdash;with-mysqlclientlib
&mdash;without-mysqlclientlib</p>

<p>Gem files will remain installed in /usr/local/Cellar/ruby/1.9.3-p0/lib/ruby/gems/1.9.1/gems/mysql-2.8.1 for inspection.
Results logged to /usr/local/Cellar/ruby/1.9.3-p0/lib/ruby/gems/1.9.1/gems/mysql-2.8.1/ext/mysql_api/gem_make.out
<code>
</code></p>

<p>是Mac平台，安装了MySQL5.5.20，搜索了一番，似乎是因为已经安装了mysql没有指定已安装的mysql路径出现的问题，于是指定一个过去：</p>

<p><code>bash
gem install mysql -- --with-mysql-dir=/usr/local/mysql
</code></p>

<p>一开始的那两个“&mdash;”不能省略，而且发现参数中那个等号左右最好别带空格，我是代码习惯了等号周围加空格，在这里竟然会出错。</p>

<p>我已经解决问题了，成功安装mysql的ruby驱动，如果仍然遇到问题，可以试试参考<a href="http://blog.bmn.name/2008/02/rails-gem-install-mysql-throws-error-extconfrb-failed/">这里</a>（同样感谢这里）。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[奇怪的Ruby语法]]></title>
    <link href="http://www.youth2009.org/www/blog/2012/02/06/wired-grammar-in-ruby/"/>
    <updated>2012-02-06T22:19:00+08:00</updated>
    <id>http://www.youth2009.org/www/blog/2012/02/06/wired-grammar-in-ruby</id>
    <content type="html"><![CDATA[<p>今天断断续续把昨天提到的那个Ruby编程入门看完了，原本打算按照教程中的例子做一遍，不过看得时候感觉这样做的话有些浪费时间，对于有一定编程经验的人来说按照例子做一遍没多大意义，很多内容看看就过了。</p>

<p>但很可惜，在Ruby这里，看看还不一定就能理解，要不然今天也不会单独写一篇日志了，真得有不少特性和其他编程语言不一样，概念上倒是还能理解，语法符号上就要重新接受了，想等过两天买的Ruby编程书来到后细细重头看。</p>

<p>还有20天了，真不知道当初设想的几个小理念能够实现多少，但也别失望，我还成功转型了呢，这个寒假收获将会颇丰！</p>
]]></content>
  </entry>
  
</feed>
