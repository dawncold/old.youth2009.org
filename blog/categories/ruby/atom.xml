<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: ruby | dawncold's tech blog]]></title>
  <link href="http://www.youth2009.org/blog/categories/ruby/atom.xml" rel="self"/>
  <link href="http://www.youth2009.org/"/>
  <updated>2013-05-11T16:31:16+08:00</updated>
  <id>http://www.youth2009.org/</id>
  <author>
    <name><![CDATA[dawncold]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Ruby中的write_attribute]]></title>
    <link href="http://www.youth2009.org/blog/2012/02/14/write-attribute-in-ruby/"/>
    <updated>2012-02-14T16:06:00+08:00</updated>
    <id>http://www.youth2009.org/blog/2012/02/14/write-attribute-in-ruby</id>
    <content type="html"><![CDATA[<pre><code>        &lt;p&gt;有时候想修改一下自己的setter方法，于是会容易犯这样的一个错误：&lt;/p&gt;
</code></pre>

<br /><pre class="prettyprint linenums bush:ruby" lang="ruby">  def password=(pwd)


<pre><code>@password = pwd
return if @password.blank?
create_new_salt
self.password = xxx
</code></pre>

<p>  end</pre></p>

<br /><p>最后那行使用了self.password= xxx，你有没有注意到我们这个方法就是password=，你在自己调用自己，如果有条件停止的话，那这叫递归，如果没有的话，这就是死循环喽，ruby可能会抛出一个stack too deep的错误（rails至少会这样说），此时需要一个magic！</p>


<br /><pre class="prettyprint linenums bush:bash" lang="bash">write_attribute(:password, User.encrypted_password(self.password, self.salt))</pre>


<br /><p>使用write_attribute(xxx,jjj)即可，意思就是把jjj赋值给xxx了，因为此时正好在定义xxx，所以不能用xxx = 这样的方法赋值。</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[痛苦的rails]]></title>
    <link href="http://www.youth2009.org/blog/2012/02/12/pain-rails/"/>
    <updated>2012-02-12T22:03:00+08:00</updated>
    <id>http://www.youth2009.org/blog/2012/02/12/pain-rails</id>
    <content type="html"><![CDATA[<pre><code>        &lt;p&gt;由于rails给我带来的痛苦，让我对ruby这门写着code for fun的语言产生了怀疑，真得有fun么？一开始就没有感觉，现在来看更是如此。&lt;/p&gt;
</code></pre>

<p>rails是一个正在成长的框架，每一个小版本号的变动都可能会引入和废弃不少特性，而我又傻傻地在使用最新的rails（3.2.1），书上讲的都是rails2.2.2的内容，乍一看变动不应该太大啊，实际上并不是如此！！！</p>


<p>对于一个新手来说，学习一个正在成长的框架是痛苦的：（</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[安装mysql的Ruby驱动遇到的问题]]></title>
    <link href="http://www.youth2009.org/blog/2012/02/09/some-issue-when-installing-mysql-ruby-driver/"/>
    <updated>2012-02-09T20:08:00+08:00</updated>
    <id>http://www.youth2009.org/blog/2012/02/09/some-issue-when-installing-mysql-ruby-driver</id>
    <content type="html"><![CDATA[<pre><code>        &lt;pre class="prettyprint linenums bush:bash" lang="bash"&gt;dawncold@tianzhenmatoMacBook-Pro ~$ gem install mysql
</code></pre>

<p>Fetching: mysql-2.8.1.gem (100%)
Building native extensions.  This could take a while...
ERROR:  Error installing mysql:</p>

<pre><code>ERROR: Failed to build gem native extension.

    /usr/local/Cellar/ruby/1.9.3-p0/bin/ruby extconf.rb
</code></pre>

<p>checking for mysql_query() in -lmysqlclient... no
checking for main() in -lm... yes
checking for mysql_query() in -lmysqlclient... no
checking for main() in -lz... yes
checking for mysql_query() in -lmysqlclient... no
checking for main() in -lsocket... no
checking for mysql_query() in -lmysqlclient... no
checking for main() in -lnsl... no
checking for mysql_query() in -lmysqlclient... no
checking for main() in -lmygcc... no
checking for mysql_query() in -lmysqlclient... no
<strong><em> extconf.rb failed </em></strong>
Could not create Makefile due to some reason, probably lack of
necessary libraries and/or headers.  Check the mkmf.log file for more
details.  You may need configuration options.</p>

<p>Provided configuration options:</p>

<pre><code>--with-opt-dir
--without-opt-dir
--with-opt-include
--without-opt-include=${opt-dir}/include
--with-opt-lib
--without-opt-lib=${opt-dir}/lib
--with-make-prog
--without-make-prog
--srcdir=.
--curdir
--ruby=/usr/local/Cellar/ruby/1.9.3-p0/bin/ruby
--with-mysql-config
--without-mysql-config
--with-mysql-dir
--without-mysql-dir
--with-mysql-include
--without-mysql-include=${mysql-dir}/include
--with-mysql-lib
--without-mysql-lib=${mysql-dir}/lib
--with-mysqlclientlib
--without-mysqlclientlib
--with-mlib
--without-mlib
--with-mysqlclientlib
--without-mysqlclientlib
--with-zlib
--without-zlib
--with-mysqlclientlib
--without-mysqlclientlib
--with-socketlib
--without-socketlib
--with-mysqlclientlib
--without-mysqlclientlib
--with-nsllib
--without-nsllib
--with-mysqlclientlib
--without-mysqlclientlib
--with-mygcclib
--without-mygcclib
--with-mysqlclientlib
--without-mysqlclientlib
</code></pre>

<p>Gem files will remain installed in /usr/local/Cellar/ruby/1.9.3-p0/lib/ruby/gems/1.9.1/gems/mysql-2.8.1 for inspection.
Results logged to /usr/local/Cellar/ruby/1.9.3-p0/lib/ruby/gems/1.9.1/gems/mysql-2.8.1/ext/mysql_api/gem_make.out</pre></p>

<br /><p>是Mac平台，安装了MySQL5.5.20，搜索了一番，似乎是因为已经安装了mysql没有指定已安装的mysql路径出现的问题，于是指定一个过去：</p>


<br /><pre class="prettyprint linenums bush:bash" lang="bash">gem install mysql -- --with-mysql-dir=/usr/local/mysql</pre>


<br /><p>一开始的那两个“--”不能省略，而且发现参数中那个等号左右最好别带空格，我是代码习惯了等号周围加空格，在这里竟然会出错。</p>


<p>我已经解决问题了，成功安装mysql的ruby驱动，如果仍然遇到问题，可以试试参考<a href="http://blog.bmn.name/2008/02/rails-gem-install-mysql-throws-error-extconfrb-failed/">这里</a>（同样感谢这里）。</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[奇怪的Ruby语法]]></title>
    <link href="http://www.youth2009.org/blog/2012/02/06/wired-grammar-in-ruby/"/>
    <updated>2012-02-06T22:19:00+08:00</updated>
    <id>http://www.youth2009.org/blog/2012/02/06/wired-grammar-in-ruby</id>
    <content type="html"><![CDATA[<pre><code>        &lt;p&gt;今天断断续续把昨天提到的那个Ruby编程入门看完了，原本打算按照教程中的例子做一遍，不过看得时候感觉这样做的话有些浪费时间，对于有一定编程经验的人来说按照例子做一遍没多大意义，很多内容看看就过了。&lt;/p&gt;
</code></pre>

<p>但很可惜，在Ruby这里，看看还不一定就能理解，要不然今天也不会单独写一篇日志了，真得有不少特性和其他编程语言不一样，概念上倒是还能理解，语法符号上就要重新接受了，想等过两天买的Ruby编程书来到后细细重头看。</p>


<p>还有20天了，真不知道当初设想的几个小理念能够实现多少，但也别失望，我还成功转型了呢，这个寒假收获将会颇丰！</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[开学Ruby]]></title>
    <link href="http://www.youth2009.org/blog/2012/02/06/firstly-study-ruby/"/>
    <updated>2012-02-06T00:40:00+08:00</updated>
    <id>http://www.youth2009.org/blog/2012/02/06/firstly-study-ruby</id>
    <content type="html"><![CDATA[<pre><code>        &lt;p&gt;先从官方文档那里找各种资料学习，已经在amazon上买书了，买了本rails应用的书，还买了两本考系统架构师的书，再就是想买一本讲ruby语言的书，很可惜amazon上没货，要是从非amazon商家买的话需要支付高昂的快递费，于是从淘宝上找了家靠谱的商家，还有满49包邮（幸亏这本书是51，包邮了）&lt;/p&gt;
</code></pre>

<p>对了，今天在amazon上买书是因为收到了amazon前段时间送的满100送20优惠券，对于我这种很喜欢在amazon上买技术书籍的书虫来说这类活动太好了，以后多多参加！</p>


<p>说废话太多了，今天断断续续看了这里的教程，基本想要按照讲得做，看完一半了，明天把剩下弄完！</p>


<p>教程地址：<a href="http://pine.fm/LearnToProgram/">http://pine.fm/LearnToProgram/</a>  </p>


<p>ruby的中文参考文档页：<a href="http://www.ruby-lang.org/zh_cn/documentation/">http://www.ruby-lang.org/zh_cn/documentation/</a></p>

]]></content>
  </entry>
  
</feed>
