<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: dev | Trade Off]]></title>
  <link href="http://www.youth2009.org/www/blog/categories/dev/atom.xml" rel="self"/>
  <link href="http://www.youth2009.org/www/"/>
  <updated>2014-08-14T22:09:08+08:00</updated>
  <id>http://www.youth2009.org/www/</id>
  <author>
    <name><![CDATA[dawncold]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[role in postgresql]]></title>
    <link href="http://www.youth2009.org/www/blog/2014/08/14/role-in-postgresql/"/>
    <updated>2014-08-14T22:08:20+08:00</updated>
    <id>http://www.youth2009.org/www/blog/2014/08/14/role-in-postgresql</id>
    <content type="html"><![CDATA[<p>In PostgreSQL versions before 8.1, users and groups were distinct kinds of entities, but now only role, it is user or group or both.</p>

<p>if you create a role using “CREATE ROLE r1”, r1 is not a user, only a generic role, it is likely a group, you can not find it in pg_user, only in pg_roles table, but if you grant LOGIN privilege to r1, it will be appear in pg_user table.</p>

<p>After installed postgresql cluster, you need execute initdb, and it will create a default role with superuser privilege, costomarily this role(user) named postgres</p>

<p>Role’s attributes: login, superuser, database creation, role creation, initiating replication, password</p>

<p>CREATE USER r1 == CREATE ROLE r1 LOGIN</p>

<p>Tip: It is good practice to create a role that has the CREATEDB and CREATEROLE privileges, but is not a superuser, and then use this role for all routine management of databases and roles. This approach avoids the dangers of operating as a superuser for tasks that do not really require it.</p>

<p>examples:</p>

<p>CREATE ROLE joe LOGIN INHERIT;
CREATE ROLE admin NOINHERIT;
CREATE ROLE wheel NOINHERIT;
GRANT admin TO joe;
GRANT wheel TO admin;</p>

<p>joe can access admin privilege by using “SET ROLE admin”, or if joe has the INHERIT, joe can access privilege directly from admin, if joe want to use these privileges, joe must “SET ROLE admin”. Joe can not access privilege from wheel, because admin has the NOINHERIT, admin can not get these privileges, so as joe.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[else clause in python loop]]></title>
    <link href="http://www.youth2009.org/www/blog/2014/08/14/else-clause-in-python-loop/"/>
    <updated>2014-08-14T22:07:09+08:00</updated>
    <id>http://www.youth2009.org/www/blog/2014/08/14/else-clause-in-python-loop</id>
    <content type="html"><![CDATA[<p>both in while and for loop, if in loop body, no break, no return, no exception is raised, statements in else block will be executed.</p>

<p>for x in []:</p>

<pre><code> print x
</code></pre>

<p>else:</p>

<pre><code> print ‘xxx’
</code></pre>

<p>this example will print ‘xxx’, even nothing in list and this loop is not executed.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[-A INPUT -i eth0 -p tcp -m tcp --dport 80 -j ACCEPT]]></title>
    <link href="http://www.youth2009.org/www/blog/2014/08/14/a-input-i-eth0-p-tcp-m-tcp-dport-80-j-accept/"/>
    <updated>2014-08-14T22:05:46+08:00</updated>
    <id>http://www.youth2009.org/www/blog/2014/08/14/a-input-i-eth0-p-tcp-m-tcp-dport-80-j-accept</id>
    <content type="html"><![CDATA[<p>what’s the agreement of -m?</p>

<p>not tcp, it’s “tcp &mdash;dport 80”</p>

<p>-m matches, using a somewhat complicated &ldquo;module matching&rdquo; mechanism.  There are a bunch of pretty cool modules in iptables, for example &ldquo;recent&rdquo;.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Absolute Positioning Inside Relative Positioning]]></title>
    <link href="http://www.youth2009.org/www/blog/2014/08/14/absolute-positioning-inside-relative-positioning/"/>
    <updated>2014-08-14T22:00:36+08:00</updated>
    <id>http://www.youth2009.org/www/blog/2014/08/14/absolute-positioning-inside-relative-positioning</id>
    <content type="html"><![CDATA[<p>if you want a div with absolute position relative its parent, not body, the parent div must be relative position.</p>

<p>see details <a href="http://css-tricks.com/absolute-positioning-inside-relative-positioning/">http://css-tricks.com/absolute-positioning-inside-relative-positioning/</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[iptables MASQUERADE]]></title>
    <link href="http://www.youth2009.org/www/blog/2014/06/13/iptables-MASQUERADE/"/>
    <updated>2014-06-13T20:50:30+08:00</updated>
    <id>http://www.youth2009.org/www/blog/2014/06/13/iptables-MASQUERADE</id>
    <content type="html"><![CDATA[<p>If you need private hosts communicate with external network, maybe some LXC contaners want to using apt-get, you need add a iptables rule like this:</p>

<p><code>
iptables -t nat -A POSTROUTING -s 10.24.1.0/24 ! -d 10.24.1.0/24 -j MASQUERADE
</code></p>

<p>This rule allows network traffic from 10.24.1.x, and destination is not 10.24.1.x, maybe it wants to communicating with 10.24.2.x, but that doesn&rsquo;t cover in this post, we assumed it want to communicating with Google, the host has an external ip like 200.200.200.200, iptables can convert IP from 10.24.1.x to IP from 200.200.200.200, like the host request Google.</p>
]]></content>
  </entry>
  
</feed>
