<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Vps | Trade Off]]></title>
  <link href="http://www.youth2009.org/www.youth2009.org/blog/categories/vps/atom.xml" rel="self"/>
  <link href="http://www.youth2009.org/www.youth2009.org/"/>
  <updated>2015-11-30T23:30:32+08:00</updated>
  <id>http://www.youth2009.org/www.youth2009.org/</id>
  <author>
    <name><![CDATA[dawncold]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Upgrade-to-linode-for-not-waiting]]></title>
    <link href="http://www.youth2009.org/www.youth2009.org/blog/2013/12/03/upgrade-to-linode-for-not-waiting/"/>
    <updated>2013-12-03T22:32:58+08:00</updated>
    <id>http://www.youth2009.org/www.youth2009.org/blog/2013/12/03/upgrade-to-linode-for-not-waiting</id>
    <content type="html"><![CDATA[<p>上个月买了linode的vps，不知道干什么用，光翻墙了，月底干脆就关了，觉得这样翻墙的成本太高了，完全可以租个便宜的vps来用，后来觉得还是linode好。</p>

<p>在用linode之前用过digitalocean，那时候DO刚刚起步，速度不错，主要是华人不多，而且价格一如既往的便宜，公司决定买这个翻墙用，但后来速度一天天慢下来了，看到最近DO的推广力度增大，可能这就是为啥速度不理想的原因。</p>

<p>prgmr.com是个不错的vps，技术感超强，但很可惜在公司速度很好，160ms的ping延迟，不过回到家发现延迟到了400+，真不明白网络就能差这么多。好处是能不交费先用一段时间体验，support很好。</p>

<p>ramhost.us据说也不错，不会超售，在家wget一个文件速度上了400+，可惜就那么一次，也不知道是不是那一次把所有RP全用光了，后来怎么都是个位数的速度。同样技术感很强，缺点就是support靠人，站长貌似也不总是盯着这个，没拿到trial来试试。</p>

<p>其实vpsee这个也能考虑试试，linuxtoy.org放在上面，感觉访问速度挺好，价格10刀，不算是便宜，但和linode比便宜一半了。以前用过几个月的vps，很稳定，被GFW过IP，站长免费给换，总之一切都好。</p>

<p>最后是linode，又回来了，很早很早的时候，大约是初中那会，对建站很感兴趣，那时候还没有流行vps，都是shared hosting，当时买过hostmonster的一年服务，没做啥东西，算是浪费了吧。后来过了挺长时间逐渐接触到vps，用过yardvps，amazon的也试过，那时候没法买linode，因为信用卡，就想着哪天能有信用卡了就可以自由买这个了，现在确实能买了，也不知道买了干嘛了，以为能做个app，但终究没想出来做什么。好在能解决访问Google等网站时候的延迟，有时候大脑在想一件事，google一下结果，此时慢了，可能又跳跃到别的事情上了。或许人和人不太一样。</p>

<p><del>Linode Referral URL：<a href="https://www.linode.com/?r=84379f19216416e48085518afcde3beb02aee9c8">https://www.linode.com/?r=84379f19216416e48085518afcde3beb02aee9c8</a></del></p>

<p><del>Linode Referral Code：84379f19216416e48085518afcde3beb02aee9c8</del></p>

<p>如果用这个code注册linode，在你用满3个月的时候我们彼此能够得到20刀的奖励：）</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[be-blocked-by-GFW]]></title>
    <link href="http://www.youth2009.org/www.youth2009.org/blog/2013/03/20/be-blocked-by-gfw/"/>
    <updated>2013-03-20T21:04:00+08:00</updated>
    <id>http://www.youth2009.org/www.youth2009.org/blog/2013/03/20/be-blocked-by-gfw</id>
    <content type="html"><![CDATA[<p>不知什么原因，我的VPS进入了全国路由监视节点。。。现实只要是谁打算ssh过去，就会被封锁一段时间。根据某人告知，这是进入短名单后的action，可以探测我换端口什么的操作，相信离IP被封已经不远了！</p>

<p>VPS啊，先提前和你说R.I.P.吧</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[VPS中部署了Flask框架]]></title>
    <link href="http://www.youth2009.org/www.youth2009.org/blog/2012/07/02/deploy-flask-on-my-vps/"/>
    <updated>2012-07-02T20:46:00+08:00</updated>
    <id>http://www.youth2009.org/www.youth2009.org/blog/2012/07/02/deploy-flask-on-my-vps</id>
    <content type="html"><![CDATA[<p>一开始我也是用web.py的，不料接受不了它的session处理，然后离开，Django这种庞大的东西我是没精力去研究了，当然开始也伴随激情看过文档，没坚持下去，后来和强锅一起找了不少框架做东西，我实践性比较强，就找到了Flask，感觉还挺好用的，做了一个todo，有兴趣可以看：<a href="http://todo.wodeyitian.com%E3%80%82">http://todo.wodeyitian.com%E3%80%82</a></p>

<p>原先部署在dotcloud上，刚刚在自己的VPS上完成了nginx+uwsgi+flask的集成，当然还是没有废弃掉php，为了好几个博客嘛～</p>

<p>总的来说就是用virtualenv来创建各个app的目录，在里面安装需要的环境（flask、mysql-python、beautifulsoup4等等吧），nginx的配置大概如下：</p>

<p><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>server <span class="o">{</span>
</span><span class='line'>     listen       80<span class="p">;</span>
</span><span class='line'>     server_name  todo.wodeyitian.com<span class="p">;</span>
</span><span class='line'>     location / <span class="o">{</span>
</span><span class='line'>               include uwsgi_params<span class="p">;</span>
</span><span class='line'>               uwsgi_pass 127.0.0.1:9090<span class="p">;</span>
</span><span class='line'>               uwsgi_param UWSGI_PYHOME /home/wwwroot/python_app_todo<span class="p">;</span>
</span><span class='line'>               uwsgi_param UWSGI_CHDIR /home/wwwroot/python_app_todo/app_dir<span class="p">;</span>
</span><span class='line'>               uwsgi_param UWSGI_SCRIPT todoApp:app<span class="p">;</span>
</span><span class='line'>     <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure></p>

<p>UWSGI_PYHOME是app的主目录，下面的CHDIR是app中py文件所在的目录，这个可以自己设置，下面的SCRIPT是入口脚本模块名和变量名，模块就是文件名喽，变量一般在flask都是用app作为整个网站的入口变量，写过python基本都能明白这个。</p>

<p>安装好uwsgi后可以配置开启：</p>

<p><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>uwsgi -s :9090 -M -p <span class="m">4</span> -t <span class="m">30</span> <span class="p">&amp;</span>ndash<span class="p">;</span>limit-as <span class="m">128</span> -R <span class="m">10000</span> -d uwsgi.log <span class="p">&amp;</span>ndash<span class="p">;</span>vhost
</span></code></pre></td></tr></table></div></figure></p>

<p>使用9090端口监听，-M开启主控线程，-p 4是开启4个线程，-t 30是超过30秒不响应丢弃，limit-as 128是限制128Mb的内存占用，-R 10000是超过10000的请求就自动respawn（似乎是自动复制？重启？之类的），-d是日志，&ndash;vhost这个可以让多个app共用一个uwsgi，很好用的！</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[迁移到了新VPS上]]></title>
    <link href="http://www.youth2009.org/www.youth2009.org/blog/2012/06/13/migrate-to-new-vps/"/>
    <updated>2012-06-13T16:22:00+08:00</updated>
    <id>http://www.youth2009.org/www.youth2009.org/blog/2012/06/13/migrate-to-new-vps</id>
    <content type="html"><![CDATA[<p>前面几篇log中有提及，实在无法忍受yardvps的服务了，一开始真的不错，但现在越来越不行了，可能这就是标志着一个vps提供商由正规经营到超卖的转变。上次停机超过了24个小时，发了ticket过去问，结果是说我被ddos了，就自动把我从网络中断开了，真有意思的说法，反正已经无法考证其真实性了，我只好选择离开。</p>

<p>新的VPS比以前贵，大约是每月10刀（原来的512Mb的YardVPS是7.59刀），但新的vps性能很好，网络也很好很快，希望能一直用下去，贵点就贵点呗，比起神器Linode便宜了不少。</p>

<p>这个技术blog是最后迁移过来的了，原先有几个php写得东西光是把数据库保存下来了，就不再挂出来让大家访问了吧，我猜也没几个用得，留着数据库做个纪念</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Sudo 出现unable to Resolve Host 解决方法]]></title>
    <link href="http://www.youth2009.org/www.youth2009.org/blog/2012/06/08/solved-sudo-unable-to-resolve-host/"/>
    <updated>2012-06-08T16:23:00+08:00</updated>
    <id>http://www.youth2009.org/www.youth2009.org/blog/2012/06/08/solved-sudo-unable-to-resolve-host</id>
    <content type="html"><![CDATA[<p>执行一句sudo xxx会发现：（HOSTNAME就是你的hostname了）</p>

<p><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>sudo ：unable to resolve host HOSTNAME
</span></code></pre></td></tr></table></div></figure></p>

<p>这样修复：(编辑/etc/hosts，修改127.0.0.1那行，把你的hostname加入到那行的最后即可)</p>

<p><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>127.0.0.1               localhost.localdomain localhost HOSTNAME
</span></code></pre></td></tr></table></div></figure></p>

<p>希望vpsee的admin能在iso中修复这个问题</p>
]]></content>
  </entry>
  
</feed>
