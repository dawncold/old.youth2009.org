<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: vps | dawncold's tech blog]]></title>
  <link href="http://www.youth2009.org/blog/categories/vps/atom.xml" rel="self"/>
  <link href="http://www.youth2009.org/"/>
  <updated>2012-12-19T22:59:22+08:00</updated>
  <id>http://www.youth2009.org/</id>
  <author>
    <name><![CDATA[dawncold]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[我在考虑迁移到octopress上]]></title>
    <link href="http://www.youth2009.org/blog/2012/11/25/thinking-convert-to-octopress-blog-system/"/>
    <updated>2012-11-25T21:51:00+08:00</updated>
    <id>http://www.youth2009.org/blog/2012/11/25/thinking-convert-to-octopress-blog-system</id>
    <content type="html"><![CDATA[<p>最近的work@honovation博客一直是用octopress写的，就是直接写markdown内容即可，github负责转换并提供托管服务，而且可以自己绑定域名，比如现在的http://workathonovation.youth2009.org就是这么弄得，非常简洁的方式，而且有种回归本真的感觉。</p>

<p>迟迟没有动作是因为我付了30刀个这个VPS，也就是到2月才过期，如果全部转到了octopress那么空着这个VPS干嘛？翻墙玩？呵呵，那真是无聊死了吧。。。说实在的，vps除了放个blog和自己做出来的小站外，好像就没什么用处了，但现在自己连小站都没有了，悉数关闭。。。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[VPS中部署了Flask框架]]></title>
    <link href="http://www.youth2009.org/blog/2012/07/02/deploy-flask-on-my-vps/"/>
    <updated>2012-07-02T20:46:00+08:00</updated>
    <id>http://www.youth2009.org/blog/2012/07/02/deploy-flask-on-my-vps</id>
    <content type="html"><![CDATA[<pre><code>        &lt;p&gt;一开始我也是用web.py的，不料接受不了它的session处理，然后离开，Django这种庞大的东西我是没精力去研究了，当然开始也伴随激情看过文档，没坚持下去，后来和强锅一起找了不少框架做东西，我实践性比较强，就找到了Flask，感觉还挺好用的，做了一个todo，有兴趣可以看：http://todo.wodeyitian.com。&lt;/p&gt;
</code></pre>

<p>原先部署在dotcloud上，刚刚在自己的VPS上完成了nginx+uwsgi+flask的集成，当然还是没有废弃掉php，为了好几个博客嘛～</p>


<p>总的来说就是用virtualenv来创建各个app的目录，在里面安装需要的环境（flask、mysql-python、beautifulsoup4等等吧），nginx的配置大概如下：</p>


<br /><pre class="prettyprint linenums bush:bash" lang="bash">server {


<pre><code>  listen       80;
  server_name  todo.wodeyitian.com;
  location / {
            include uwsgi_params;
            uwsgi_pass 127.0.0.1:9090;
            uwsgi_param UWSGI_PYHOME /home/wwwroot/python_app_todo;
            uwsgi_param UWSGI_CHDIR /home/wwwroot/python_app_todo/app_dir;
            uwsgi_param UWSGI_SCRIPT todoApp:app;
  }
</code></pre>

<p>}</pre></p>

<br /><p>UWSGI_PYHOME是app的主目录，下面的CHDIR是app中py文件所在的目录，这个可以自己设置，下面的SCRIPT是入口脚本模块名和变量名，模块就是文件名喽，变量一般在flask都是用app作为整个网站的入口变量，写过python基本都能明白这个。</p>


<p>安装好uwsgi后可以配置开启：</p>


<br /><pre class="prettyprint linenums bush:bash" lang="bash">uwsgi -s :9090 -M -p 4 -t 30 --limit-as 128 -R 10000 -d uwsgi.log --vhost</pre>


<br /><p style="text-align: left;">使用9090端口监听，-M开启主控线程，-p 4是开启4个线程，-t 30是超过30秒不响应丢弃，limit-as 128是限制128Mb的内存占用，-R 10000是超过10000的请求就自动<span style="font-family: Verdana, sans-serif, 宋体;"><span style="line-height: 24px;">respawn（似乎是自动复制？重启？之类的），-d是日志，--vhost这个可以让多个app共用一个uwsgi，很好用的！</span></span></p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[简单配置一下vi]]></title>
    <link href="http://www.youth2009.org/blog/2012/06/13/config-vi-simply/"/>
    <updated>2012-06-13T22:26:00+08:00</updated>
    <id>http://www.youth2009.org/blog/2012/06/13/config-vi-simply</id>
    <content type="html"><![CDATA[<pre><code>        &lt;p&gt;看到vpsee上的vi打开网页啥的都能自动高亮，原本一直用着纯文本方式vi的我动心了，搜索了一点点配置，加入这些配置到~/vimrc这样的文件中后，打开vi就能自动加载配置。&lt;/p&gt;
</code></pre>

<p>下面的分别是：显示行号、自动缩进、开启语法高亮、编辑背景为暗色调、开启粘贴（传说复制过来的代码不会乱掉）</p>


<br /><pre class="prettyprint linenums bush:bash" lang="bash">set number


<p>set autoindent
syntax enable
set background=dark
set paste</pre></p>

<br /><p>vim是和emace同样重量级的编辑器，如果你是一个Linux控你肯定明白那句话，vi是vim的前身（允许我这样描述吧），所以配置都是这些编辑器的看家本领，这几条简单配置仅仅是个入门，还可以根据自己的需要添加修改<img title="微笑" src="http://www.youth2009.org/usr/plugins/TinyMCE/tiny_mce/plugins/emotions/img/smiley-smile.gif" alt="微笑" border="0"></p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[迁移到了新VPS上]]></title>
    <link href="http://www.youth2009.org/blog/2012/06/13/migrate-to-new-vps/"/>
    <updated>2012-06-13T16:22:00+08:00</updated>
    <id>http://www.youth2009.org/blog/2012/06/13/migrate-to-new-vps</id>
    <content type="html"><![CDATA[<pre><code>        &lt;p&gt;前面几篇log中有提及，实在无法忍受yardvps的服务了，一开始真的不错，但现在越来越不行了，可能这就是标志着一个vps提供商由正规经营到超卖的转变。上次停机超过了24个小时，发了ticket过去问，结果是说我被ddos了，就自动把我从网络中断开了，真有意思的说法，反正已经无法考证其真实性了，我只好选择离开。&lt;/p&gt;
</code></pre>

<p>新的VPS比以前贵，大约是每月10刀（原来的512Mb的YardVPS是7.59刀），但新的vps性能很好，网络也很好很快，希望能一直用下去，贵点就贵点呗，比起神器Linode便宜了不少。</p>


<p>这个技术blog是最后迁移过来的了，原先有几个php写得东西光是把数据库保存下来了，就不再挂出来让大家访问了吧，我猜也没几个用得，留着数据库做个纪念<img title="微笑" src="http://www.youth2009.org/usr/plugins/TinyMCE/tiny_mce/plugins/emotions/img/smiley-smile.gif" alt="微笑" border="0"></p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[sudo 出现unable to resolve host 解决方法]]></title>
    <link href="http://www.youth2009.org/blog/2012/06/08/solved-sudo-unable-to-resolve-host/"/>
    <updated>2012-06-08T16:23:00+08:00</updated>
    <id>http://www.youth2009.org/blog/2012/06/08/solved-sudo-unable-to-resolve-host</id>
    <content type="html"><![CDATA[<pre><code>        &lt;p&gt;执行一句sudo xxx会发现：（HOSTNAME就是你的hostname了）&lt;/p&gt;
</code></pre>

<br /><pre class="prettyprint linenums bush:bash" lang="bash">sudo ：unable to resolve host HOSTNAME</pre>


<br /><p>这样修复：(编辑/etc/hosts，修改127.0.0.1那行，把你的hostname加入到那行的最后即可)</p>


<br /><pre class="prettyprint linenums bush:bash" lang="bash">127.0.0.1               localhost.localdomain localhost HOSTNAME</pre>


<br /><p>希望vpsee的admin能在iso中修复这个问题</p>

]]></content>
  </entry>
  
</feed>
