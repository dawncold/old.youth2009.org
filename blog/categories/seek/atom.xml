<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: seek | dawncold's tech blog]]></title>
  <link href="http://www.youth2009.org/blog/categories/seek/atom.xml" rel="self"/>
  <link href="http://www.youth2009.org/"/>
  <updated>2013-05-11T16:26:09+08:00</updated>
  <id>http://www.youth2009.org/</id>
  <author>
    <name><![CDATA[dawncold]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[简要写写python的file中的tell和seek]]></title>
    <link href="http://www.youth2009.org/blog/2011/07/09/seek-and-tell-in-python/"/>
    <updated>2011-07-09T15:12:00+08:00</updated>
    <id>http://www.youth2009.org/blog/2011/07/09/seek-and-tell-in-python</id>
    <content type="html"><![CDATA[<pre><code>        &lt;p&gt;对于一个&lt;a title="file" href="http://www.youth2009.org/tag/file/"&gt;file&lt;/a&gt;，调用&lt;a title="tell" href="http://www.youth2009.org/tag/tell/"&gt;tell&lt;/a&gt;能够知道现在的文件位置。&lt;a title="seek" href="http://www.youth2009.org/tag/seek/"&gt;seek&lt;/a&gt;是改变文件位置。  比如文件中有3行句子，readline后位置就到了第一行的最后，再readline就到了第二行的最后，readline后我调用了tell，看到的结果就是这样的。输出完&lt;a title="tell" href="http://www.youth2009.org/tag/tell/"&gt;tell&lt;/a&gt;我又使用了&lt;a title="seek" href="http://www.youth2009.org/tag/seek/"&gt;seek&lt;/a&gt;(0),这样文件位置就回到开头了，下次再调用readline就会输出原来第一行的内容了，这应该是很容易理解的。不明白可以亲自试试。&lt;/p&gt;
</code></pre>

<p></p>


<pre class="prettyprint linenums bush:python" lang="python">from sys import argv

script, input_file = argv

def print_all(f):
    print f.read()

def rewind(f):
    f.seek(0)

def print_a_line(line_count, f):
    print line_count, f.readline()

current_file = open(input_file)

print "First let's print the while file:\n"
print_all(current_file)

print "Now let's rewind, kind of like a tape."
rewind(current_file)

print "Let's print three lines:"

current_line = 1
print_a_line(current_line, current_file)
print "current_pos:%d" % current_file.tell()
rewind(current_file)

current_line += 1
print_a_line(current_line, current_file)
print "current_pos:%d" % current_file.tell()

current_line += 1
print_a_line(current_line, current_file)
print "current_pos:%d" % current_file.tell()
</pre>

]]></content>
  </entry>
  
</feed>
