
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>Trade Off</title>
	<meta name="author" content="dawncold">

	
	<meta name="description" content="默认less使用production的env，但有时候出现语法错误不能正常编译下去很难调试，所以一般使用development的env开发。 在引用less之前加入： 1
var less={env: "development"}; 这样就让less成为development环境了。 &hellip;">
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="Trade Off" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script async="true" src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	
</head>


<body>
	<header id="header" class="inner"><h1><a href="/">Trade Off</a></h1>
<nav id="main-nav"><ul class="main">
	<li><a href="/">Blog</a></li>
	<li><a href="/blog/archives">Archives</a></li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul class="main">
	<li><a href="/">Blog</a></li>
	<li><a href="/blog/archives">Archives</a></li>
</ul>
</div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="http://google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:www.youth2009.org/www">
			</form>
		</div>
	</div>
</nav>
<nav id="sub-nav" class="alignright">
	<div class="social">
		
		
		
		
    
		
		
		
		
		
		<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
    
	</div>
	<form class="search" action="http://google.com/search" method="get">
		<input class="alignright" type="text" name="q" results="0">
		<input type="hidden" name="q" value="site:www.youth2009.org/www">
	</form>
</nav>

</header>
	
		
	
	<div id="content" class="inner">


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2012/12/29/less-debug/">
		
			LESS Debug</a>
	</h2>
	<div class="entry-content">
		<p>默认less使用production的env，但有时候出现语法错误不能正常编译下去很难调试，所以一般使用development的env开发。</p>

<p>在引用less之前加入：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>var less={env: "development"};</span></code></pre></td></tr></table></div></figure>


<p>这样就让less成为development环境了。如果不行的话可以使用Chrome的console，直接给less.env赋值，这只是针对上面方法不能用的时候。赋值好后调用<code>less.refresh()</code>，可以让less做一次刷新，如果有错误就会在页面顶部出现。</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-12-29T18:04:00+08:00" pubdate data-updated="true">Dec 29<span>th</span>, 2012</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/work-at-honovation/'>work@honovation</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2012/12/20/ie6/">
		
			Ie6</a>
	</h2>
	<div class="entry-content">
		<p>这几天都卡在ie6的兼容问题上了，都要上线了才想到要去用ie来看下效果，前一次看的时候没什么问题，还很欣慰，怎么会这么安全？最近用ie6、360、搜狗一看，直接无法接受了，但原网站的最大用户群就是360，现在搞不清楚360用的是不是ie6的内核，虽然它自称是ie8的内核了，但我今天下载了用仍然是ie6，然后他又会提示你可以升级到ie8内核，真是流氓啊。我们现在如果能够把网站调整到ie6下也正常显示，就基本不怕ie7、8、9了，相信不管一款软件多么垃圾，随着版本的提升，也会越来越好，要不然根本都不可能升级，也违背社会的发展啊。。。</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-12-20T23:26:00+08:00" pubdate data-updated="true">Dec 20<span>th</span>, 2012</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/work-at-honovation/'>work@honovation</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2012/12/19/make-a-contribution-to-open-source-project/">
		
			给开源项目做贡献了</a>
	</h2>
	<div class="entry-content">
		<p>惭愧，第一次给开源项目做贡献竟然是现在，其实早就想帮着做点啥了，无奈技术能力不足，终于发现一个机会，给progit的README文档添加MacOS用户的使用方式，可惜噩梦也是这样开始的。</p>

<p>一开始添加了usage for macos users，commit然后push，作者和我说少一个blank line，我加了再commit和push，另一个开发者和我说你不应该多次commit，需要说清楚commit的工作而不是一味用commit修改，我改好了发现remote的版本和本地不一样，因为我是在上一个版本的基础上amend后再提交的，无奈之下我merge了remote然后commit又push，这时候作者跳出来一对一教我怎么做了，有不少细节地方需要注意，比如完全的command line可以在markdown中用tab的indent，而list的indent和tab是完全不一样的。。。又给我罗列了markdown的语法。我让他写一个正确的给我看一下，他真的就给我写了一遍，但是他给希望让别人来做这部分工作而不是自己来做，并不是自己能力不足什么的，光是在我这里付出的时间就远超编辑好几个版本的README了。这点在国内开发者的身上很难发现吧？！</p>

<p>最后当然是pull request被接受了：）这次经历很难得！</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-12-19T21:18:00+08:00" pubdate data-updated="true">Dec 19<span>th</span>, 2012</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/dev/'>dev</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2012/12/16/active-cron-log-in-ubuntu/">
		
			Active Cron Log in Ubuntu</a>
	</h2>
	<div class="entry-content">
		<p>bnly.org使用crontab来不断fetch和send，这看起来很傻，不过挺容易搭建。目前send过程每分钟一次，fetch过程10分钟一次。</p>

<p>在ubuntu下默认没有cron的日志，需要这样开启：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>vi /etc/rsyslog.d/50-default.conf
</span><span class='line'>解除cron的注释
</span><span class='line'>service rsyslog restart
</span><span class='line'>service cron restart</span></code></pre></td></tr></table></div></figure>


<p>这样就可以在/var/log/下找到cron.log查看了。</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-12-16T15:41:00+08:00" pubdate data-updated="true">Dec 16<span>th</span>, 2012</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/bnly/'>bnly</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2012/12/01/shell-study/">
		
			Shell Study</a>
	</h2>
	<div class="entry-content">
		<p>sed是个极其强大的东西，今天开始学习一点点：）</p>

<p>以前的一个sed的命令终于明白了：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>find ./ -name <span class="s1">&#39;*.html&#39;</span> | xargs sed -i <span class="s1">&#39;s/iso-8859-1/utf-8/g&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<p>这是替换html编码用的一个语句，find出当前目录下的html文件名字，然后传给sed，当然这里用到了xrags中转，其实没有的话也ok（除非你不用-i模式），sed用了-i模式，可以编辑文件内容保存，并且存一个备份，当然你得传入一个扩展名字才能保存，没有的话就不存和没有-i效果一样。后面的一个字符串，s表示用正则匹配，s后面的是一个分隔符，可以用斜杠，可以换你喜欢的，但后面都要统一起来，上面的意思是iso-8859-1这个替换成utf-8，最后的加的/g是表示global替换，全部替换，否则就替换一次。</p>

<p>后来看起别的书来了。</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-12-01T11:52:00+08:00" pubdate data-updated="true">Dec 1<span>st</span>, 2012</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/shell/'>shell</a>, <a class='category' href='/blog/categories/study/'>study</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2012/11/28/change-shopping-cart/">
		
			Change Shopping Cart</a>
	</h2>
	<div class="entry-content">
		<p>今天taowen给我们show了一个很fancy的日志处理过程，当然是in the future的，深度打动了wanglei，由于是刚刚吃过饭，站着听久了难免会发困，主要听来的意思就是app的log会自己在local记录，然后发送json给syslog，后面接上logstash做一个处理，再往后就是接入各种图表啊、search啊这样的终端app，如果能完全跑起来应该是足够玄的。不知道成形的互联网电商们会不会也是这样做的。</p>

<p>我主要在修改shopping cart，临下班eric过来和我做了一点东西，后来taowen觉得shopping cart有redis和db两种不同实现很不爽，我倒是没那么强烈，不过如果要改全db对我的工作量会加大。回家后吃了饭感觉身体还好，就修改成全db吧，看看是什么效果。</p>

<p>好在都过了测试，但我删掉了一个功能，所以测试文件也进行了修改，没问题：）</p>

<p>明天应该会把手上的issue全部弄好，哦对了，今天花了挺长时间在Set-Cookie，弄了半天发现就只有几行增加，真是不全局看的话，工作量就会无形的被自己放大。。。</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-11-28T23:21:00+08:00" pubdate data-updated="true">Nov 28<span>th</span>, 2012</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/work-at-honovation/'>work@honovation</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2012/11/25/the-pragmatic-programmer/">
		
			Pragmatic Programmer Log</a>
	</h2>
	<div class="entry-content">
		<p>Bad code requires lots of comments!</p>

<p>head file 也是一种重复，这属于language的重复，一般只能妥协。</p>

<p>“出来混迟早要还的”，这句话又出现了！！！</p>

<p>deal with interdeveloper duplication的方法就是多多交流。。。每天的站立会议是不错的！</p>

<p>依然补充几个单词：</p>

<pre><code>contradictory:          矛盾的
marauding:              恶意的
harness:                管理，控制
enhacing:               增强
constantly:             不断地
discrete:               不连续的
entire:                 全部的
representation:         陈述
nightmare:              噩梦
authoritative:          权威性的
inadvertent:            不注意的
imposed:                强制的
honoring:               尊敬
ingenuity:              精巧
metadata:               元数据
one-time:               一次的
inevitably:             不可避免地
defer:                  推迟
reveal:                 显示
illustrate:             说明
violate:                违犯
insidious:              暗中危害的
foster:                 培养
</code></pre>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-11-25T20:43:00+08:00" pubdate data-updated="true">Nov 25<span>th</span>, 2012</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/study/'>study</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2012/11/25/shell-study-2/">
		
			Shell Study 2</a>
	</h2>
	<div class="entry-content">
		<p>shell的参数很有意思，是用数字来命名的，从1~9，如果超过了9就应该这样写：${10}，以后就以此类推。</p>

<p>跟踪shell的执行步骤：sh -x prog，这样就能看到prog的执行动作，如果是在脚本内部，使用set -x开启跟踪，使用set +x关闭跟踪。</p>

<p>终于知道i18n和l10n的意思了：internationalization=i18n，起始字母和末尾字母之间有18个字母。。。同理，localization=l10n。</p>

<p>UNIX中有几个环境变量和i18n,l10n相关：LANG、LC开头的很多个，LANG是默认值，没有任何LC_xxx设置的时候使用这个。这块内容实在太复杂了，还是用默认的英文简单，估计全球程序员也都看得懂。有时候不成熟反而是一种很好的解决方案：）</p>

<p>至此书的前两章就结束了，后面就开始具体的工具学习，至少我自己看着后面章节的标题是这么想的——查找与替换。这些study完全是为了给自己强化知识用的，没打算让别人照着学下去，所以我也就不在乎章节的分隔了，感到应该断开的地方就断开，其他基本是一气呵成，要吃饭睡觉的时候就不写了。</p>

<p>原来的grep有好几个版本，最终在01年被合并成了一个，通过不同的option来选择如何查找字符串。使用</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>grep -F xxx
</span></code></pre></td></tr></table></div></figure>


<p>可以查找带有xxx的文本行，默认情况下如果你查找的xxx内容不含正则的mate字符就是使用了-F选项，所以简单的查找可以不加这个选项。</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-11-25T13:50:00+08:00" pubdate data-updated="true">Nov 25<span>th</span>, 2012</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/shell/'>shell</a>, <a class='category' href='/blog/categories/study/'>study</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2012/11/25/shell-study/">
		
			Shell Study</a>
	</h2>
	<div class="entry-content">
		<p>上次说到了echo有可能出现标准不一致的情况，所以建议使用printf，但如果你只是使用最简单的echo输出一段话，那还是没问题的。printf更加复杂，功能和C语言中的printf基本相同。</p>

<p>IO重定向默认在你登录的时候就把standard input/output绑定到了terminal中，所以你可以在terminal中完成很多工作。</p>

<p>简单的重定向：“>”、“&lt;”、“>>”，分别是改变重定向input、output，最后一个是附加到某个文件，如果你在使用&#8221;>&ldquo;的时候不存在目标文件，那么会被创建出来，如果已经存在就会被覆盖掉，原有数据丢失，如果使用&rdquo;>>&ldquo;则会追加到目标文件中，原有数据依然存在。</p>

<p>管道也是重定向的一部分，prog1 | prog2，可以把prog1的标准输出重定向到prog2的标准输入上，如果你需要连接多个程序的时候，最好用管道方式，这样比临时文件效率高很多（据说10倍）。在使用管道的时候应该逐级让数据量减少，这样能够提高脚本的整体性能，例如在sort之前，你可以grep出需要sort的行，这样会好一些：）</p>

<p>特殊文件：/dev/null 和 /dev/tty。null这个被称为bit bucket，传输到这里的东西都会被丢弃，就如同黑洞一般：）程序把文件写入到这里就会被认为是成功的，但实际什么都没做，例如：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="k">if </span>grep pattern myfile &gt; /dev/null
</span><span class='line'><span class="k">then</span>
</span><span class='line'>…
</span><span class='line'><span class="k">else</span>
</span><span class='line'>…
</span><span class='line'><span class="k">fi</span>
</span></code></pre></td></tr></table></div></figure>


<p>可以做一个探测，是否myfile有pattern，这样不会产生输出。</p>

<p>/dev/tty的功能是，当程序打开这个文件时会重定向到一个terminal，在需要输入密码的时候用的到：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nb">printf</span> <span class="s2">&quot;Enter password: &quot;</span>
</span><span class='line'>stty -echo <span class="c">#关闭自动回显输入的字符功能</span>
</span><span class='line'><span class="nb">read </span>pass &lt; /dev/tty
</span><span class='line'><span class="nb">printf</span> <span class="s2">&quot;Enter Again: &quot;</span>
</span><span class='line'><span class="nb">read </span>pass2 &lt; /dev/tty
</span><span class='line'>stty <span class="nb">echo</span> <span class="c">#打开自动回显输入的字符功能</span>
</span></code></pre></td></tr></table></div></figure>


<p>shell的PATH中最好不要放入当前目录这一选项，这会带来安全问题，所以干脆就不要这么想了：）</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-11-25T10:24:00+08:00" pubdate data-updated="true">Nov 25<span>th</span>, 2012</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/shell/'>shell</a>, <a class='category' href='/blog/categories/study/'>study</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2012/11/21/shell-study/">
		
			Shell Study</a>
	</h2>
	<div class="entry-content">
		<p>今天开始学学Shell编程，不光是因为需要在惯例服务器的时候使用到，平常作为一门必须掌握的脚本语言也是很有必要的，所以就学吧，况且那本《Shell脚本学习指南》已经买了放那里好久了，就书刚到的时候看了两页，真的就像是两页，后来光看《The Pragmatic Programmer》和《1Q84》了。</p>

<p>shell脚本的第一行一般写明这个脚本使用哪种脚本解释器运行，以&#8221;#!&ldquo;开头，后面加脚本解释器的名字和相应参数，如果不需要什么参数就写上“-”，这是出于安全考虑，可以避免某种程度上的欺骗式攻击（spoofing attack）。</p>

<pre><code>选项：命令后面用一个“-”开头书写的内容，如：ls -l，那么“-l”就是选项。
参数：有的选项需要传入参数，那么就要紧跟着那个需要参数的“选项”，如：cc -o exp exp.c
没参数的选项合并，例如：ls -al = ls -a -l，书写非常方便吧。
分号分隔开几条命令，会逐一执行；如果用“&amp;”的话，就会让命令进入后台执行，可以立刻相应你的下一条命令。
</code></pre>

<p>shell中的变量赋值有个要求，变量名后，到等号，到值都不能有空格：“var=1”这是正确的，“var = 1、var= 1等等都不对”，这点有些别扭，我喜欢多加空格。。。而且大多数coder也是如此吧？</p>

<p>取出刚刚你创建的变量需要在变量名前面加&#8221;$&ldquo;符号，看来和取钱的感觉差不多哈哈，或许以前认为变量中的值放在内存或者磁盘上都是昂贵的，如同取钱。</p>

<p>变量赋值这里还有些东西值得说一下：</p>

<pre><code>可以一行多次赋值，比如，first=1 second=2 third=3
如果有空格就加双引号: var="1 2 3"，这看起来像string
还可以这样，var="$first $second $third"，最后var的值里面会包含first、second、third的值，这点就不太像string了，需要注意！！！
</code></pre>

<p>由于echo命令在Unix多个发行版之间有差异，所以输出的话还是用printf好了：—）</p>

<p>今天就先到这。</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-11-21T21:50:00+08:00" pubdate data-updated="true">Nov 21<span>st</span>, 2012</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/shell/'>shell</a>, <a class='category' href='/blog/categories/study/'>study</a>


</div>
	
</div>
</article>

<nav id="pagenavi">
    
        <a href="/blog/page/6/" class="prev">Prev</a>
    
    
        <a href="/blog/page/8/" class="next">Next</a>
    
    <div class="center"><a href="/blog/archives">Blog Archives</a></div>
</nav></div>
	<footer id="footer" class="inner">Copyright &copy; 2014

    dawncold

</footer>
	<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->


<script type="text/javascript">
      var disqus_shortname = 'dawncoldtechblog';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//go.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-8650400-5']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>



</body>
</html>