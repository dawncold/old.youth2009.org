---
layout: post
title: Git使用重新学习（撤销操作）
comments: true
date: 2012-01-26 15:05
categories: git study
---

**修改最后一次提交**：git commit --amend

如果只是提交信息写错了，运行后会让你重新写提交信息，但如果你忘记了加文件进入，可以这样做，先commit，再add忘记的文件，最后来一句git commit --amend，这看似两次提交，实际只是一次，后面的提交修正了前面的。

**取消已暂存的文件**：看status的时候有提示，git reset HEAD <file>，执行后可以把一个已修改的文件从暂存区拉回到“changed but not update”里，前面日志说过，在这里面的文件需要add后才能进入暂存区被提交。

**取消修改**：如果感觉刚才的修改没有必要，需要取消修改，那么用git checkout -- <file>，在1.6.1以上的版本才会有这样的功能，我刚刚看了下git的版本（git --version）是1.7.5.4，看来暂时不用升级就能体验了。使用后就会发现文件的修改已经被撤销，此命令很危险，如果只是想回退版本可以用stashing和分支来处理，后面再说。

最后说一句，任何被提交的数据都能被恢复，即便是在已经删除的分支中提交的等等，但没有提交的丢了就丢了！！！