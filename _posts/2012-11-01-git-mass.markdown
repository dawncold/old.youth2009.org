---
layout: post
title: "git mass"
date: 2012-11-01 21:56
comments: true
categories: work@honovation
---

原本以为今天能上线给编辑们使用，结果只是找了编辑部的几个人来现场的开发环境中玩了玩，提了提意见，明天下午1点我们正式开始用生产环境。

今天我又部署了好几次，期间也出现过一些问题，但都一一修复了，比较大的就是我把Git搞乱了，让周围几个人突然陷入困境。其实是我在生产分支上做了改动，发现应该去master做，结果我就跳到master上想要合并生产分支，后来被我不断rebase弄坏了，处于一种无分支所在的状况，taowen帮我reset到了之前的地方，还好改动不多，又凭记忆修复过来了。看来部署这个东西真不能让一个人来搞定，一合并就会出现不少冲突，有的你能解决，有的解决不了（现在还没遇到解决不了的）。

上午的standup持续了好久，大概又是在讨论需不需要这么多生产环境的纪律，昨天taowen只是加了commit前需要self-check，现在又出现了一个component不能超过xxx行的纪律，而且自动算出来，如果超了你就无法commit，wanglei今天早晨中招，顺便就开始说这个事儿了，我猜等我要做别的东西的时候也会这样吧。

backup、restore、restore-from-baseline这几个虽然看起来简单，但调试起来缺不怎么容易，而且在调试过程中还出现了不少突发问题，解决起来也是相当费时间的，现在部署后再做这些工作应该都没什么问题了。

晚上回来后我把web service的检查加入到了setting中，把部署打tag加入到了deploy流程中。明天去了打算把部署前lock所有sql脚本加入进去，这样每次部署就需要和大家说一下了。
